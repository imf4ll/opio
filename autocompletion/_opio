#compdef opio

_opio() {
    local -a init
    init=(
        '-a:Turns on AUR helper mode'
        '-d:Turns on downgrade mode'
        '-p:Package name'
        '-s:Search for a package in AUR'
        '--status:Check Archive and AUR status'
        '-h:Print help'
        '-V:Print version'
    )

    local -a fetching
    fetching=(
        '-p:Package name'
        '-i:Ignores packages from cache while downgrading "pacman" packages'
        '-f:Final package download path'
        '-d:Turns on downgrade mode'
        '-s:Search for a package in AUR'
    )

    local -a others
    others=(
        '-k:Keep AUR package after installing'
        '-f:Final package download path'
        '-p:Package name'
    )

    if (( CURRENT == 2 )); then
        _describe -t commands 'commands' init
    fi

    if (( CURRENT == 3 )); then
        _describe -t commands 'command' fetching
    fi

    _describe -t commands 'command' others

  return 0
}

_opio
